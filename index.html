<!DOCTYPE html>
<html lang="id">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Birthday Surprise üéâ</title>

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }

    body {
      min-height: 100vh;
      overflow: hidden;
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    }

    /* ===== CURTAIN ===== */
    .curtain {
      position: fixed;
      top: 0;
      width: 50%;
      height: 100vh;
      z-index: 10;
      background: repeating-linear-gradient(90deg,
          #7a0b0b 0,
          #a4161a 25px,
          #7a0b0b 50px);
      transition: transform 1.6s cubic-bezier(.77, 0, .18, 1);
    }

    .curtain.left {
      left: 0;
    }

    .curtain.right {
      right: 0;
    }

    body.open .curtain.left {
      transform: translateX(-100%);
    }

    body.open .curtain.right {
      transform: translateX(100%);
    }

    /* ===== BUTTON OPEN ===== */
    #openCurtain {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      padding: 14px 30px;
      border-radius: 30px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      z-index: 20;
    }

    /* ===== CAKE SECTION ===== */
    .cake-section {
      height: 100vh;
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 20px;
      z-index: 5;
    }

    body.open .cake-section {
      display: flex;
    }

    .cake {
      width: 200px;
      height: 120px;
      background: linear-gradient(#ffb3c1, #ff758f);
      border-radius: 0 0 20px 20px;
      position: relative;
      box-shadow: 0 15px 30px rgba(0, 0, 0, .3);
    }

    .candle {
      width: 14px;
      height: 40px;
      background: #fff;
      position: absolute;
      top: -40px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 5px;
    }

    .flame {
      width: 14px;
      height: 20px;
      background: radial-gradient(circle, #ffd166, #ff6b00);
      position: absolute;
      top: -18px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 50%;
      animation: flicker .2s infinite;
    }

    .flame.blow {
      transform: translateX(-50%) scale(0);
      opacity: 0;
      animation: none;
    }

    .smoke {
      width: 6px;
      height: 6px;
      background: rgba(200, 200, 200, .6);
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 50%;
      opacity: 0;
    }

    .smoke.show {
      animation: smokeUp 1.5s ease-out;
    }

    @keyframes flicker {
      0% {
        transform: translateX(-50%) scale(1);
      }

      50% {
        transform: translateX(-50%) scale(0.9);
      }

      100% {
        transform: translateX(-50%) scale(1);
      }
    }

    @keyframes smokeUp {
      from {
        opacity: 1;
        transform: translate(-50%, 0);
      }

      to {
        opacity: 0;
        transform: translate(-50%, -30px) scale(2);
      }
    }

    #blowCandle {
      padding: 12px 26px;
      border-radius: 25px;
      border: none;
      font-weight: 600;
      cursor: pointer;
    }

    .blowCandle {
      animation: scale 1s linear infinite;
      transition: transform .3s ease;
    }

    @keyframes scale {

      0%,
      100% {
        transform: scale(1.1);
      }

      50% {
        transform: scale(1);
      }
    }

    /* ===== SLIDESHOW ===== */
    .slideshow-section {
      height: 100vh;
      display: none;
      position: relative;
    }

    body.show-slideshow .slideshow-section {
      display: block;
    }

    .slide {
      position: absolute;
      inset: 0;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transform: scale(1.1);
      transition: opacity 1s, transform 6s;
    }

    .slide.active {
      opacity: 1;
      transform: scale(1);
    }

    .overlay-text {
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      text-align: center;
      /* background-color: #7a0b0b;
      padding: 10px;
      border-radius: 30px; */
      z-index: 5;
      text-shadow: 0 5px 20px rgba(0, 0, 0, .6);
    }

    /* repaet content */
    #restartBtn {
      position: fixed;
      bottom: 40px;
      left: 50%;
      transform: translateX(-50%);
      padding: 14px 30px;
      border-radius: 30px;
      border: none;
      font-weight: 600;
      cursor: pointer;
      display: none;
      z-index: 30;
    }
  </style>
</head>

<body>

  <audio id="bgMusic" src="song.mp4" loop></audio>

  <div class="curtain left"></div>
  <div class="curtain right"></div>

  <button id="openCurtain">open the curtains üéÅ</button>

  <!-- ===== CAKE ===== -->
  <section class="cake-section">
    <div>
    </div>
    <div class="cake">
      <div class="candle">
        <span class="flame"></span>
        <span class="smoke"></span>
      </div>
    </div>
    <button class="blowCandle" id="blowCandle">blow the candles üí®</button>
    <div style="padding: 10px;">
      <p style="padding: 10px; text-align: center; background-color: white;">Happy birthday sayang yang ke 18 tahun üíó
Sebelum kamu klik dan tiup lilinnya, coba pejamkan mata sebentar‚Ä¶ terus berdoa dalam hati apa yang kamu pengen? ‚ú®
Semoga apa pun yang kamu minta hari ini benar-benar dikabulin, dan aku tetap jadi orang yang ada di samping kamu. ü§ç</p>
    </div>
  </section>

  <!-- ===== SLIDESHOW ===== -->
  <section class="slideshow-section">
    <div class="slide active"
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 00.12.26.jpeg')"></div>
    <div class="slide"
      style="background-image:url('IMG_20251213_171513\ \(2\).jpg.jpeg')">
    </div>
    <div class="slide"
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 00.17.04.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 00.17.04\ \(1\).jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 00.52.07.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 13.45.33.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 13.45.33\ \(1\).jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 13.45.34.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('WhatsApp\ Image\ 2026-02-17\ at\ 00.52.07\ \(1\).jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('IMG_20251213_150212.jpg.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('IMG_20251213_164129.jpg.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('IMG_20251224_232632.jpg.jpeg')">
    </div>
    <div class="slide" 
      style="background-image:url('IMG-20251221-WA0094.jpg.jpeg')">
    </div>

    <div class="overlay-text">
      <h2>whose birthday üíñ</h2>
      <p>Every photo has a story</p>
    </div>
  </section>

  <button id="restartBtn">üîÅ Repeat Again</button>

  <!-- <canvas id="confetti"></canvas> -->

  <script>
    const openBtn = document.getElementById("openCurtain");
    const music = document.getElementById("bgMusic");

    openBtn.onclick = () => {
      document.body.classList.add("open");
      openBtn.style.display = "none";
      music.play();
      startConfetti();
    };

    /* ===== BLOW CANDLE ===== */
    const blowBtn = document.getElementById("blowCandle");
    const flame = document.querySelector(".flame");
    const smoke = document.querySelector(".smoke");
    const cakeSection = document.querySelector(".cake-section");

    blowBtn.onclick = () => {
      flame.classList.add("blow");
      smoke.classList.add("show");
      blowBtn.disabled = true;
      blowBtn.innerText = "üéâ Make a Wish...";

      setTimeout(() => {
        cakeSection.style.display = "none";
        document.body.classList.add("show-slideshow");

        startSlideshow(); // üî• SLIDESHOW BARU JALAN DI SINI
      }, 1800);
    };


    /* ===== SLIDESHOW LOOP ===== */
    const slides = document.querySelectorAll(".slide");
    const restartBtn = document.getElementById("restartBtn");

    let slideshow;
    let index = 0;

    function startSlideshow() {
      // RESET
      clearInterval(slideshow);
      index = 0;

      // üî• TAMPILKAN SLIDE PERTAMA LANGSUNG
      slides.forEach(slide => slide.classList.remove("active"));
      slides[index].classList.add("active");

      slideshow = setInterval(() => {
        index++;

        // JIKA SUDAH LEWAT SLIDE TERAKHIR
        if (index >= slides.length) {
          clearInterval(slideshow);

          setTimeout(() => {
            document.body.classList.remove("open");
            document.body.classList.remove("show-slideshow");
            restartBtn.style.display = "block";
          }, 2000);

          return;
        }

        slides.forEach(slide => slide.classList.remove("active"));
        slides[index].classList.add("active");

      }, 1000);
    }


    restartBtn.onclick = () => {
      location.reload();
    };

    /* ===== CONFETTI ===== */
    const c = document.getElementById("confetti");
    const ctx = c.getContext("2d");
    c.width = innerWidth;
    c.height = innerHeight;

    const confetti = Array.from({ length: 150 }, () => ({
      x: Math.random() * c.width,
      y: Math.random() * c.height,
      r: Math.random() * 6 + 2,
      d: Math.random() * 5 + 1
    }));

    function startConfetti() {
      (function draw() {
        ctx.clearRect(0, 0, c.width, c.height);
        confetti.forEach(o => {
          ctx.beginPath();
          ctx.arc(o.x, o.y, o.r, 0, Math.PI * 2);
          ctx.fillStyle = "rgba(255,255,255,.8)";
          ctx.fill();
          o.y += o.d;
          if (o.y > c.height) o.y = 0;
        });
        requestAnimationFrame(draw);
      })();
    }

    const slideImages = [
      "https://tse3.mm.bing.net/th/id/OIP.UNV-G6ltS__i_PiObaVUwAAAAA",
      "https://s-media-cache-ak0.pinimg.com/736x/48/ee/f7/48eef77978b1af1834a9990cce90224f.jpg",
      "https://i.pinimg.com/originals/1c/0f/30/1c0f30912b4dc697cf45f09c9645825e.jpg",
      "https://www.superherodb.com/pictures2/portraits/10/100/17765.jpg"
    ];

    slideImages.forEach(src => {
      const img = new Image();
      img.src = src;
    });
  </script>

</body>

</html>




